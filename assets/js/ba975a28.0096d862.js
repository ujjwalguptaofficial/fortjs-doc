"use strict";(self.webpackChunkmy=self.webpackChunkmy||[]).push([[5825],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),i=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},p=function(e){var t=i(e.components);return o.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,p=u(e,["components","mdxType","originalType","parentName"]),d=i(r),m=n,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||l;return r?o.createElement(h,a(a({ref:t},p),{},{components:r})):o.createElement(h,a({ref:t},p))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,a=new Array(l);a[0]=m;var u={};for(var s in t)hasOwnProperty.call(t,s)&&(u[s]=t[s]);u.originalType=e,u[d]="string"==typeof e?e:n,a[1]=u;for(var i=2;i<l;i++)a[i]=r[i];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}m.displayName="MDXCreateElement"},157:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>l,metadata:()=>u,toc:()=>i});var o=r(7462),n=(r(7294),r(3905));const l={sidebar_position:4,title:"Route",keywords:["route","customize","options","fortjs","node"],description:"Different types of route and how to customize them in fortjs"},a="Route",u={unversionedId:"route",id:"route",title:"Route",description:"Different types of route and how to customize them in fortjs",source:"@site/docs/route.md",sourceDirName:".",slug:"/route",permalink:"/fortjs-doc/docs/route",draft:!1,editUrl:"https://github.com/ujjwalguptaofficial/fortjs-doc/tree/main/docs/route.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Route",keywords:["route","customize","options","fortjs","node"],description:"Different types of route and how to customize them in fortjs"},sidebar:"tutorialSidebar",previous:{title:"Worker",permalink:"/fortjs-doc/docs/worker"},next:{title:"Bootstrap",permalink:"/fortjs-doc/docs/setup"}},s={},i=[{value:"Example",id:"example",level:2},{value:"Configure route",id:"configure-route",level:2},{value:"Controller Route",id:"controller-route",level:3},{value:"Worker Route",id:"worker-route",level:3},{value:"Customizing route",id:"customizing-route",level:4},{value:"Restricting the worker based on http method",id:"restricting-the-worker-based-on-http-method",level:5},{value:"Single route &amp; multiple http method",id:"single-route--multiple-http-method",level:5},{value:"Params in route",id:"params-in-route",level:5}],p={toc:i},d="wrapper";function c(e){let{components:t,...r}=e;return(0,n.kt)(d,(0,o.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"route"},"Route"),(0,n.kt)("p",null,"A route is basically a path. It is mapped with Controller and will target a Controller method."),(0,n.kt)("p",null,"So route in fortjs has two parts - "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Controller - A class"),(0,n.kt)("li",{parentName:"ul"},"Worker - A method inside that class")),(0,n.kt)("h2",{id:"example"},"Example"),(0,n.kt)("p",null,'Consider an url - "abc.com/user/add" and let\'s split it - '),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"abc.com - domain of the website "),(0,n.kt)("li",{parentName:"ul"},"/user - controller route"),(0,n.kt)("li",{parentName:"ul"},"/add - worker route")),(0,n.kt)("hr",null),(0,n.kt)("p",null,'Let\'s take another example - "abc.com/user/1/2/3" and split it again - '),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"abc.com - domain of the website"),(0,n.kt)("li",{parentName:"ul"},"/user - controller route"),(0,n.kt)("li",{parentName:"ul"},"/1/2/3 - worker route")),(0,n.kt)("p",null,"but you can also make some part of worker route as controller depends upon the requirement"),(0,n.kt)("p",null,"e.g - The above route can be also breaked as - "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"abc.com - domain of the website"),(0,n.kt)("li",{parentName:"ul"},"/user/1 - controller route"),(0,n.kt)("li",{parentName:"ul"},"/2/3 - worker route")),(0,n.kt)("h2",{id:"configure-route"},"Configure route"),(0,n.kt)("p",null,"Let's see how the route is configured in fortjs - "),(0,n.kt)("h3",{id:"controller-route"},"Controller Route"),(0,n.kt)("p",null,"In order to create a controller route we must have a ",(0,n.kt)("a",{parentName:"p",href:"/fortjs-doc/docs/controller"},"controller"),". This controller is mapped with a path."),(0,n.kt)("p",null,'e.g - Consider you have created a controller - "UserController"'),(0,n.kt)("p",null,"You need to map Controller with a path. "),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'import { Fort } from "fortjs";\nimport { UserController } from "@/controllers";\n\n// here we have mapped UserController with path "/user"\nFort.routes = [{\n    controller: UserController,\n    path: "/user"\n}]\n\nFort.create();\n\n')),(0,n.kt)("p",null,'In the above example we are mapping "UserContoller" with a path "/user" inside the ',(0,n.kt)("inlineCode",{parentName:"p"},"routes")," member of App."),(0,n.kt)("h3",{id:"worker-route"},"Worker Route"),(0,n.kt)("p",null,"Worker route is mapped to a ",(0,n.kt)("a",{parentName:"p",href:"/fortjs-doc/docs/worker"},"Worker")," inside Controller."),(0,n.kt)("p",null,'Let\'s say we want to create the worker route "add" - you need to create a method with the name "add" and add decoarator "worker" above it . The decorator worker treats method name as route and add to route list -'),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'import { Controller, worker, textResult } from "fortjs";\n\nexport class UserController extends Controller {\n\n    @worker()\n    async add () {\n       return textResult("add is called");\n    }\n}\n')),(0,n.kt)("p",null,'So, When url will be - "abc.com/user/add" then add method will be called.'),(0,n.kt)("h4",{id:"customizing-route"},"Customizing route"),(0,n.kt)("p",null,'We can customize the worker route by using decorator "route".'),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'import { Controller, worker, textResult, route } from "fortjs";\n\nexport class UserController extends Controller {\n\n    @worker()\n    @route("/addCustom") // changing the route name\n    async add () {\n       return textResult("add is called");\n    }\n}\n')),(0,n.kt)("p",null,"You can see in the code , we have used 'route' decorator to override the route. So, now when url will be - \"abc.com/user/addCustom\" then add method will be called."),(0,n.kt)("h5",{id:"restricting-the-worker-based-on-http-method"},"Restricting the worker based on http method"),(0,n.kt)("p",null,'Currently with any of http methods (GET,POST, etc.) "add" method will be hit. But let\'s say you want to hit this only when http method is POST.'),(0,n.kt)("p",null,"In this case - you need to provide desired http methods to worker. Let's see an example - "),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'import { Controller, worker,textResult,HTTP_METHOD } from "fortjs";\n\nexport class UserController extends Controller {\n\n    @worker(HTTP_METHOD.POST) // This method will be only hit when any of the http method specified in worker will match.\n    async add () {\n       return textResult("add is called");\n    }\n}\n')),(0,n.kt)("h5",{id:"single-route--multiple-http-method"},"Single route & multiple http method"),(0,n.kt)("p",null,'How about you want to create a route "add" which will hit different worker based on http methods. This pattern is highly used in rest api implementation . '),(0,n.kt)("p",null,"Let's see an example -"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'import { Controller, worker, textResult, HTTP_METHOD, route } from "fortjs";\n\nexport class UserController extends Controller {\n    \n    @worker(HTTP_METHOD.GET)\n    @route("/add")\n    async addWithGet() { // This will be called when method will be GET\n       return textResult("add with method get is called");\n    }\n\n    @worker(HTTP_METHOD.POST)\n    @route("/add")\n    async addWithPost() { // This will be called when method will be POST\n       return textResult("add with method post is called");\n    }\n}\n')),(0,n.kt)("h5",{id:"params-in-route"},"Params in route"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"1. Constant param : ")),(0,n.kt)("p",null,'So far we have created a route - "abc.com/user/add". How about little more complex route - "abc.com/user/add/1". '),(0,n.kt)("p",null,"For this, we just need to modify our route."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'import { Controller, worker, textResult, HTTP_METHOD, route } from "fortjs";\n\nexport class UserController extends Controller {\n    \n    @worker()\n    @route("/add/1")\n    async add () {\n       return textResult("add is called");\n    }\n}\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"2. Variable param :")),(0,n.kt)("p",null,'In the url - you can see "1" is the constant value but for certain requirements - the place where 1 is present can be any value. '),(0,n.kt)("p",null,'e.g - "abc.com/user/add/2", "abc.com/user/add/hi", "abc.com/user/add/1000" etc.'),(0,n.kt)("p",null,"Basically a part of the url is a variable which can hold any value."),(0,n.kt)("p",null,"You can declare a variable in a route by using ",(0,n.kt)("inlineCode",{parentName:"p"},"{}"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'import { Controller, worker, textResult,HTTP_METHOD, route } from "fortjs";\n\nexport class UserController extends Controller {\n    \n    @worker()\n    @route("/add/{value}")\n    async add () {\n       const value = this.param.value; // variable values are present in \'param\' member of the controller.\n       return textResult("add is called");\n    }\n}\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"3. Variable & Constant :")," "),(0,n.kt)("p",null,"How about a route where you want to return some file based on some extension. "),(0,n.kt)("p",null,'e.g - "abc.com/file/scripts/jquery.js" . In this example - "jquery" is variable value and ".js" is constant value'),(0,n.kt)("p",null,"So here :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"controller route is - 'file'"),(0,n.kt)("li",{parentName:"ul"},"worker route is - 'scripts/jquery.js'")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'import { Controller, worker, textResult,HTTP_METHOD, route } from "fortjs";\n\nexport class FileController extends Controller {\n    \n    @worker()\n    @route("/scripts/{fileName}.js")\n    async getScripts () {\n       const fileName = this.param.fileName; \n\n       return textResult(`fileName is ${fileName}");\n    }\n}\n')))}c.isMDXComponent=!0}}]);