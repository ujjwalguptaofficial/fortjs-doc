(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{155:function(e,t,r){var o=r(158);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(19).default)("2aa3933d",o,!0,{})},156:function(e,t,r){var o=r(160);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(19).default)("7a78b854",o,!0,{})},157:function(e,t,r){"use strict";var o=r(155);r.n(o).a},158:function(e,t,r){(e.exports=r(18)(!1)).push([e.i,"\n.treeview-parent{padding:5px 10px;cursor:pointer\n}\n.treeview-parent .text{display:inline-block\n}\n.treeview-parent i.material-icons{vertical-align:bottom\n}",""])},159:function(e,t,r){"use strict";var o=r(156);r.n(o).a},160:function(e,t,r){(e.exports=r(18)(!1)).push([e.i,"\n#divTutorialContent{padding-left:20px\n}\n.link-active{background-color:#e1e0e0;font-weight:700\n}\n#divMenuContainer a{color:#000\n}\n#divMenuContainer{background-color:#f9f9f9\n}\n#divMenuContainer ul{list-style:none;margin-left:20px\n}\n#divMenuContainer ul li{padding:5px\n}\n#divMenuContainer ul li a{color:rgba(0,0,0,.87);display:block\n}\n#divMenuContainer ul li:hover{cursor:pointer;background-color:rgba(0,0,0,.05)\n}\n#divMenuContainer ul li.search i{vertical-align:middle\n}\n#divMenuContainer ul li #txtSearch{width:80%;border:none;text-align:center;margin:0;height:45px\n}\n#btnMenuToggle{margin-left:10px;display:inline-block;cursor:pointer;vertical-align:middle\n}\n#btnMenuToggle i{font-size:30px\n}\n.show-menu{display:block!important;z-index:1000;position:absolute;background-color:#fff;overflow-y:scroll\n}\n.show-menu ul{border-right:none!important;margin-left:15px\n}\n.search .search-wrapper a:hover{background-color:#eee;outline:none\n}\npre{background-color:#f1f1f1;box-shadow:0 2px 4px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12)!important;padding:.01em 16px;display:inline-block;min-width:70%\n}\npre,pre code{margin:20px 0\n}\npre code{background-color:#fff;border-left:5px solid #ee6e73;padding:5px 20px;display:block;color:#000;font-family:monospace;font-size:100%;font-weight:400\n}\n.search-results{webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)\n}\n.right-side-button{padding:15px;height:50px;text-align:center\n}",""])},161:function(e,t,r){"use strict";var o,n=r(6),s=r(33),i=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeUrl="",t.expandInfo={},t}return i(t,e),t.prototype.mounted=function(){var e=this;this.items.forEach(function(t){e.$set(e.expandInfo,t.id,!1)})},t.prototype.setActiveLink=function(e){this.activeUrl=e},t.prototype.setExpandInfo=function(e){var t=this;this.items.forEach(function(r){r.id===e?1==t.expandInfo[r.id]?t.$set(t.expandInfo,e,!1):t.$set(t.expandInfo,e,!0):1==t.expandInfo[r.id]&&t.$set(t.expandInfo,r.id,!1)})},t.prototype.onMenuClick=function(e){var t=e.target,r=Number(t.dataset.id);this.setExpandInfo(r)},t=a([Object(n.Component)({props:{items:Array}})],t)}(n.Vue),d=(r(157),r(9)),u=Object(d.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"margin-top-50px"},e._l(e.items,function(t){return r("div",{key:t.id,staticClass:"treeview-parent",class:{"link-active":t.url===e.activeUrl}},[r("i",{staticClass:"material-icons",class:{"not-visible":null==t.childs||0==t.childs.length},attrs:{"data-id":t.id},on:{click:e.onMenuClick}},[e._v("\n      "+e._s(!0===e.expandInfo[t.id]?"keyboard_arrow_down":"chevron_right")+"\n    ")]),e._v(" "),r("div",{staticClass:"text",attrs:{"data-id":t.id},on:{click:e.onMenuClick}},[null!=t.url?r("a",{attrs:{href:"/tutorial/"+t.url}},[e._v(e._s(t.text))]):r("span",[e._v(" "+e._s(t.text))])]),e._v(" "),null!=t.childs?r("ul",{directives:[{name:"show",rawName:"v-show",value:!0===e.expandInfo[t.id],expression:"expandInfo[item.id]===true"}]},e._l(t.childs,function(t){return r("li",{key:t.id,class:{"link-active":t.url===e.activeUrl}},[r("a",{attrs:{href:"/tutorial/"+t.url}},[e._v(e._s(t.text))])])})):e._e()])}))},[],!1,null,null,null);u.options.__file="treeview.vue";var c=u.exports,p=[{id:1,url:"get-started",text:"Get Started"},{id:2,url:"controller",text:"Controller"},{id:3,url:"worker",text:"Worker"},{id:4,text:"Route",url:"route"},{id:5,text:"Bootstrap",url:"bootstrap"},{id:7,text:"View Engine",url:"view-engine"},{id:8,text:"Components",childs:[{id:1,text:"Wall",url:"wall"},{id:2,text:"Shield",url:"shield"},{id:3,text:"Guard",url:"guard"}]},{id:9,text:"Types",childs:[{id:1,text:"HttpResult",url:"http-result"},{id:2,text:"AppOption",url:"app-option"},{id:3,text:"HttpRequest",url:"http-request"},{id:4,text:"HttpResponse",url:"http-response"},{id:5,text:"ViewEngineData",url:"view-engine-data"},{id:6,text:"HttpFormatResult",url:"http-format-result"}]},{id:10,text:"Advanced",childs:[{id:1,text:"Custom Error Handler",url:"custom-error-handler"},{id:2,text:"Session Provider",url:"session-provider"},{id:3,text:"Format Response",url:"format-response"}]}],h=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),C=function(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},A=function(e){function t(){var t=e.call(this)||this;return t.version=2,t.showMenu=!1,t.searchValue="",t.searchResult="",t.catchEvents(),t}return h(t,e),t.prototype.catchEvents=function(){s.b.$on("menu_click",this.toggleMenu)},t.prototype.onSearch=function(){},t.prototype.mounted=function(){var e,t=this,r=this.$route.path.toLowerCase().replace(/\//g,"");this.links.every(function(o){if(null!=o.childs){var n=o.childs.find(function(e){return r===(""+t.relativeUrl+e.url.toLowerCase()).replace(/\//g,"")});if(null!=n)return e=n.url,t.$refs.linkContainer.setExpandInfo(o.id),!1}else if(r===(""+t.relativeUrl+o.url.toLowerCase()).replace(/\//g,""))return e=o.url,!1;return!0}),e&&e.length>0&&this.$refs.linkContainer.setActiveLink(e)},t.prototype.toggleMenu=function(){this.showMenu=!this.showMenu},t.prototype.showHideMenuButton=function(){var e=this;setTimeout(function(){e.$vuetify.breakpoint.mdAndUp?e.showMenu=!0:e.showMenu=!1},200)},t.prototype.head=function(){return{title:"FortJs - "+this.pageTitle}},t.prototype.getVersion=function(){return"1"},Object.defineProperty(t.prototype,"tutorialHtml",{get:function(){return decodeURI(this.innerHtml)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"links",{get:function(){return this.allLinks_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allLinks_",{get:function(){return p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeUrl",{get:function(){switch(this.version){case 1:return"/v1/tutorial/";case 2:return"/tutorial/";default:return"/"}},enumerable:!0,configurable:!0}),t=C([Object(n.Component)({components:{TreeView:c},props:{innerHtml:String,pageTitle:String}})],t)}(s.a),f=(r(159),Object(d.a)(A,function(){var e=this.$createElement,t=this._self._c||e;return t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"hidden-sm-and-down",class:{"show-menu":this.showMenu},attrs:{md2:"",id:"divMenuContainer"}},[t("TreeView",{ref:"linkContainer",attrs:{items:this.links}})],1),this._v(" "),t("v-flex",{class:{"padding-left-15px":this.$vuetify.breakpoint.mdAndUp},attrs:{id:"divTutorialContent",xs12:"",md8:"",l7:"",xl6:""}},[t("div",{staticClass:"margin-top-20px",domProps:{innerHTML:this._s(this.tutorialHtml)}})]),this._v(" "),t("v-flex",{staticClass:"md2 margin-top-50px text-center"})],1)},[],!1,null,null,null));f.options.__file="tutorial.vue";t.a=f.exports},199:function(e,t,r){"use strict";r.r(t);var o,n=r(6),s=r(161),i=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tutorialContent="%3Cp%3EIn%20this%20get%20started%20tutorial%20we%20will%20create%20a%20simple%20rest%20api%20using%20FortJs.%3C/p%3E%0A%3Cp%3EFortJs%20is%20built%20using%20typescript%20and%20uses%20es6%20pattern.%20That's%20why%20we%20need%20webpack%20or%20babel%20to%20transpile%20es6%20codes%20to%20nodejs%20compatible%20code.%3C/p%3E%0A%3Cp%3EBut%20dont%20worry%20about%20all%20the%20configuration,%20we%20we%20have%20created%20different%20starter%20template%20for%20you.%20You%20just%20need%20to%20download/clone%20the%20repo%20based%20on%20your%20preferred%20language%20and%20start%20writing%20your%20code.%3C/p%3E%0A%3Cul%3E%0A%3Cli%3ETypescript%20-%20%3Ca%20href=%22https://github.com/ujjwalguptaofficial/fortjs-typescript-starter%22%3Ehttps://github.com/ujjwalguptaofficial/fortjs-typescript-starter%3C/a%3E%3C/li%3E%0A%3Cli%3EJavascript%20-%20%3Ca%20href=%22https://github.com/ujjwalguptaofficial/fortjs-javascript-starter%22%3Ehttps://github.com/ujjwalguptaofficial/fortjs-javascript-starter%3C/a%3E%3C/li%3E%0A%3C/ul%3E%0A%3Cp%3E%3Cbr%3E%0AAfter%20downloading%20the%20repo%20-%20open%20the%20console,%20move%20to%20project%20directory%20and%20run%20the%20commands%20-%3C/p%3E%0A%3Cul%3E%0A%3Cli%3E%3Ccode%3Enpm%20install%3C/code%3E%20-%20It%20will%20install%20all%20the%20dependency%3C/li%3E%0A%3Cli%3E%3Ccode%3Enpm%20run%20start%3C/code%3E%20-%20It%20will%20run%20the%20app.%3C/li%3E%0A%3C/ul%3E%0A%3Cp%3E%3Cbr%3E%0ABrowser%20the%20url%20mentioned%20in%20the%20console%20(http://localhost:4000/)%3C/p%3E%0A%3Ch2%20id=%22understandingproject%22%3EUnderstanding%20project%3C/h2%3E%0A%3Cp%3E%3Cbr%3E%0ANow%20you%20must%20be%20thinking%20-%20where%20is%20the%20code%20which%20is%20rendering%20output%20to%20browser%20?.%20Let's%20see%20-%3C/p%3E%0A%3Cul%3E%0A%3Cli%3E%3Cp%3EOpen%20%20folder%20src%20-&gt;%20controllers.%20Inside%20the%20controllers%20you%20will%20see%20a%20file%20name%20-%20default_controller,%20lets%20open%20it%20and%20observe%20the%20code.%3C/p%3E%3C/li%3E%0A%3Cli%3E%3Cp%3EUnder%20the%20controller%20-&gt;%20you%20will%20see%20a%20method%20'default'%20-%20this%20is%20the%20one%20which%20is%20rendering%20output%20to%20browser.%3C/p%3E%3C/li%3E%0A%3C/ul%3E%0A%3Cp%3EYou%20might%20find%20this%20complex%20but%20worry%20not,%20everything%20will%20be%20clear%20at%20the%20end%20of%20this%20article.%20Though%20one%20thing%20to%20notice%20here%20is%20that%20-%20codes%20are%20much%20cleaner%20than%20what%20we%20used%20to%20write%20in%20nodejs%20apps,%20right%20?%3C/p%3E%0A%3Ch2%20id=%22creatingrestapi%22%3ECreating%20Rest%20Api%3C/h2%3E%0A%3Cp%3E%3Cbr%3E%0AWe%20are%20going%20to%20create%20a%20rest%20endpoint%20%22user%22%20which%20will%20perform%20add,%20get,%20delete,%20update.%3C/p%3E%0A%3Ch3%20id=%22createcontroller%22%3ECreate%20controller%3C/h3%3E%0A%3Cp%3E%3Cbr%3E%0AFor%20creating%20an%20end%20point-%20we%20first%20need%20to%20create%20a%20controller.%20Before%20creating%20controller,%20please%20read%20the%20docs%20for%20%3Ca%20href=%22controller%22%3Econtroller%3C/a%3E%3C/p%3E%0A%3Cp%3ELet's%20create%20a%20file%20user_controller.ts%20inside%20the%20contollers%20folder.%3C/p%3E%0A%3Cp%3ECopy%20the%20below%20code%20inside%20the%20file%20-%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20Controller,%20textResult,%20defaultWorker%20%7D%20from%20'fortjs'%0A%0Aexport%20class%20UserController%20extends%20Controller%20%7B%0A%0A%20%20@defaultWorker()%0A%20%20async%20default()%20%7B%0A%20%20%20%20return%20textResult('you%20have%20successfully%20created%20a%20user%20controller');%0A%20%20%7D%0A%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EIn%20the%20above%20code%20-%20%3C/p%3E%0A%3Cul%3E%0A%3Cli%3EWe%20have%20created%20a%20class%20%3Ccode%3EUserController%3C/code%3E%20which%20is%20extending%20another%20class%20%3Ccode%3EController%3C/code%3E%20from%20fortjs%20.%3C/li%3E%0A%3Cli%3EWe%20have%20created%20a%20method%20%3Ccode%3Edefault%3C/code%3E%20which%20is%20returning%20some%20result%20by%20using%20the%20method%20%3Ccode%3EtextResult%3C/code%3E%20from%20fortjs.%20%3Ccode%3EtextResult%3C/code%3E%20return%20http%20response%20with%20content-type%20'text/plain'.%3C/li%3E%0A%3Cli%3EWe%20have%20used%20a%20decorator%20%3Ccode%3EdefaultWorker%3C/code%3E%20from%20fortjs.%20A%20worker%20makes%20the%20method%20visible%20so%20that%20it%20can%20be%20called%20by%20http%20request.%20A%20default%20worker%20is%20a%20worker%20which%20add%20the%20route%20%22/%22%20for%20target%20method.%20Please%20take%20a%20look%20at%20%3Ca%20href=%22worker%22%3Eworker%3C/a%3E%20doc.%3C/li%3E%0A%3C/ul%3E%0A%3Cp%3E%3Cbr%3E%0ANow%20We%20need%20to%20add%20our%20controller%20to%20app.%20Open%20'routes.ts'%20or%20'routes.js'%20(inside%20src%20folder)%20-%20this%20contains%20list%20of%20routes.%3C/p%3E%0A%3Cp%3ELet's%20add%20the%20%3Ccode%3EUserController%3C/code%3E%20to%20routes%20list.%20Update%20the%20routes.ts%20by%20below%20code%20-%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20DefaultController%20%7D%20from%20%22./controllers/default_controller%22;%0Aimport%20%7B%20UserController%20%7D%20from%20%22./controllers/user_controller%22;%0A%0Aexport%20const%20routes%20=%20%5B%7B%0A%20%20%20%20path:%20%22/default%22,%0A%20%20%20%20controller:%20DefaultController%0A%7D,%7B%0A%20%20%20%20path:%20%22/user%22,%20%0A%20%20%20%20controller:%20UserController%0A%7D%5D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3ENow%20open%20the%20url%20-%20%3Ca%20href=%22localhost:4000/user%22%3Elocalhost:4000/user%3C/a%3E.%20You%20can%20see%20the%20output%20which%20is%20returned%20from%20default%20method%20inside%20%22UserController%22.%3C/p%3E%0A%3Ch3%20id=%22createservice%22%3ECreate%20service%3C/h3%3E%0A%3Cp%3E%3Cbr%3E%0ABefore%20writing%20further%20code%20in%20controller,%20lets%20create%20the%20user%20service.%20Create%20a%20file%20user_service.ts%20inside%20the%20folder%20services%20and%20copy%20the%20below%20code%20inside%20it.%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20User%20%7D%20from%20%22../models/user%22;%0A%0Ainterface%20IStore%20%7B%0A%20%20users:%20User%5B%5D;%0A%7D%0A%0Aconst%20store:%20IStore%20=%20%7B%0A%20%20users:%20%5B%7B%0A%20%20%20%20id:%201,%0A%20%20%20%20name:%20%22ujjwal%22,%0A%20%20%20%20address:%20%22bhubaneswar%20india%22,%0A%20%20%20%20emailId:%20%22ujjwal@mg.com%22,%0A%20%20%20%20gender:%20%22male%22,%0A%20%20%20%20password:%20%22admin%22%0A%20%20%7D%5D%0A%7D%0A%0Aexport%20class%20UserService%20%7B%0A%20%20getUsers()%20%7B%0A%20%20%20%20%20%20return%20store.users;%0A%20%20%7D%0A%0A%20%20addUser(user:%20User)%20%7B%0A%20%20%20%20const%20lastUser%20=%20store.users%5Bstore.users.length%20-%201%5D;%0A%20%20%20%20user.id%20=%20lastUser%20==%20null%20?%201%20:%20lastUser.id%20+%201;%0A%20%20%20%20store.users.push(user);%0A%20%20%20%20return%20user;%0A%20%20%7D%0A%0A%20%20updateUser(user:%20User)%20%7B%0A%20%20%20%20const%20existingUser%20=%20store.users.find(qry%20=&gt;%20qry.id%20===%20user.id);%0A%20%20%20%20if%20(existingUser%20!=%20null)%20%7B%0A%20%20%20%20%20%20existingUser.name%20=%20user.name;%0A%20%20%20%20%20%20existingUser.address%20=%20user.address;%0A%20%20%20%20%20%20existingUser.gender%20=%20user.gender;%0A%20%20%20%20%20%20existingUser.emailId%20=%20user.emailId;%0A%20%20%20%20%20%20return%20true;%0A%20%20%20%20%7D%0A%20%20%20%20return%20false;%0A%20%20%7D%0A%0A%20%20getUser(id:%20number)%20%7B%0A%20%20%20%20return%20store.users.find(user%20=&gt;%20user.id%20===%20id);%0A%20%20%7D%0A%0A%20%20removeUser(id:%20number)%20%7B%0A%20%20%20%20const%20index%20=%20store.users.findIndex(user%20=&gt;%20user.id%20===%20id);%0A%20%20%20%20store.users.splice(index,%201);%0A%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EAbove%20code%20contains%20a%20variable%20store%20which%20contains%20collection%20of%20users%20and%20the%20method%20inside%20the%20service%20do%20operation%20like%20-%20add,%20update,%20delete,%20get%20on%20that%20store.%3C/p%3E%0A%3Cp%3ESo%20now%20we%20have%20service,%20we%20need%20to%20write%20the%20code%20to%20use%20those%20service%20and%20create%20a%20rest%20api.%3C/p%3E%0A%3Ch3%20id=%22rest%22%3EREST%3C/h3%3E%0A%3Cp%3E%3Cbr%3E%0AAccording%20to%20REST%20-%20An%20end%20point%20with%20http%20method%20%3C/p%3E%0A%3Cul%3E%0A%3Cli%3EGET%20-%20should%20return%20some%20entity%20or%20entities%3C/li%3E%0A%3Cli%3EPOST%20-%20should%20add%20some%20entity.%3C/li%3E%0A%3Cli%3EPUT%20-%20should%20update%20some%20entity.%3C/li%3E%0A%3Cli%3EDELETE%20-%20should%20delete%20some%20entity.%3C/li%3E%0A%3C/ul%3E%0A%3Cp%3E%3Cbr%3E%3C/p%3E%0A%3Ch3%20id=%22gettingusers%22%3EGetting%20users%3C/h3%3E%0A%3Cp%3E%3Cbr%3E%0ALet's%20rename%20the%20default%20methods%20to%20%22getUsers%22%20and%20code%20inside%20too%20-%20which%20will%20return%20all%20users.%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20Controller,%20jsonResult,%20defaultWorker%20%7D%20from%20'fortjs'%0A%0Aexport%20class%20UserController%20extends%20Controller%20%7B%0A%0A%20%20@defaultWorker()%0A%20%20async%20getUsers()%20%7B%0A%20%20%20%20const%20service%20=%20new%20UserService();%0A%20%20%20%20return%20jsonResult(service.getUsers());%0A%20%20%7D%0A%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EIn%20the%20above%20code%20-%20we%20are%20using%20%3Ccode%3EjsonResult%3C/code%3E%20as%20we%20need%20to%20return%20json%20values.%3C/p%3E%0A%3Cp%3ENow%20lets%20refresh%20the%20browser%20.%20We%20are%20getting%20one%20user%20as%20we%20had%20only%20one%20user%20in%20the%20store.%20%3C/p%3E%0A%3Cp%3EThis%20method%20will%20only%20for%20http%20method%20-%20%22GET%22.%20So%20if%20you%20will%20call%20this%20same%20endpoint%20for%20methods%20other%20than%20%22GET%22%20,%20you%20will%20get%20status%20code%20405.%3C/p%3E%0A%3Ch3%20id=%22addinguser%22%3EAdding%20user%3C/h3%3E%0A%3Cp%3EFor%20adding%20user%20-%20we%20need%20to%20create%20a%20method%20which%20will%20only%20work%20for%20http%20method%20POST.%20Update%20the%20usercontroller%20by%20below%20code%20-%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20Controller,%20jsonResult,%20defaultWorker,%20HTTP_METHOD,%20HTTP_STATUS_CODE%20%7D%20from%20'fortjs'%0A%0Aexport%20class%20UserController%20extends%20Controller%20%7B%0A%0A%20%20%20%20@defaultWorker()%0A%20%20%20%20async%20getUsers()%20%7B%0A%20%20%20%20%20%20%20%20const%20service%20=%20new%20UserService();%0A%20%20%20%20%20%20%20%20return%20jsonResult(service.getUsers());%0A%20%20%20%20%7D%0A%0A%20%20%20%20@worker(%5BHTTP_METHOD.Post%5D)%0A%20%20%20%20@route(%22/%22)%0A%20%20%20%20async%20addUser()%20%7B%0A%20%20%20%20%20%20%20%20const%20user%20=%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20name:%20this.body.name,%0A%20%20%20%20%20%20%20%20%20%20%20%20gender:%20this.body.gender,%0A%20%20%20%20%20%20%20%20%20%20%20%20address:%20this.body.address,%0A%20%20%20%20%20%20%20%20%20%20%20%20emailId:%20this.body.emailId,%0A%20%20%20%20%20%20%20%20%20%20%20%20password:%20this.body.password%0A%20%20%20%20%20%20%20%20%7D;%0A%20%20%20%20%20%20%20%20const%20service%20=%20new%20UserService();%0A%20%20%20%20%20%20%20%20const%20newUser%20=%20service.addUser(user);%0A%20%20%20%20%20%20%20%20return%20jsonResult(newUser,%20HTTP_STATUS_CODE.Created);%0A%20%20%20%20%7D%0A%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EIn%20the%20above%20code%20-%20we%20have%20created%20an%20extra%20method%20-%20%22addUser%22%20which%20takes%20data%20from%20body%20(post%20data)%20and%20add%20the%20user%20to%20store%20by%20calling%20service.%20We%20are%20retuning%20the%20created%20user%20with%20response%20code%20-%20Created%20(201).%3C/p%3E%0A%3Ch4%20id=%22validatinguser%22%3EValidating%20user%3C/h4%3E%0A%3Cp%3EWe%20are%20not%20doing%20any%20validation%20for%20the%20user.%20It%20might%20be%20that%20invalid%20data%20is%20supplied%20in%20post%20request.%20Well,%20we%20can%20write%20code%20inside%20the%20method%20%22addUser%22%20or%20create%20another%20function%20to%20validate%20and%20validate%20the%20user.%3C/p%3E%0A%3Cp%3EBut%20A/c%20to%20%3Ca%20href=%22https://github.com/ujjwalguptaofficial/fort%22%3Efort%3C/a%3E%20(fortjs%20works%20on%20the%20principle%20of%20fort)%20-%20a%20worker%20method%20should%20only%20have%20code%20related%20to%20its%20main%20purpose%20and%20extra%20code%20should%20be%20written%20into%20components.%20Please%20take%20a%20look%20at%20%20%3Ca%20href=%22component%22%3Ecomponent%3C/a%3E%20docs.%3C/p%3E%0A%3Cp%3ELet's%20see%20how%20we%20can%20validate%20user%20by%20creating%20a%20component.%20Since%20we%20are%20doing%20operation%20on%20worker%20level,%20we%20need%20to%20use%20%3Ca%20href=%22guard%22%3EGuard%3C/a%3E%20component.%3C/p%3E%0A%3Cp%3ECreate%20a%20file%20%22model%3Cem%3Euser%3C/em%3Eguard.ts%22%20for%20typescript%20projects%20or%20%22model%3Cem%3Euser%3C/em%3Eguard.js%22%20for%20js%20projects%20inside%20the%20folder%20guards%20and%20write%20the%20below%20code%20inside%20it%20-%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20Guard,%20HttpResult,%20MIME_TYPE,%20HTTP_STATUS_CODE%20%7D%20from%20%22fortjs%22;%0Aimport%20%7B%20User%20%7D%20from%20%22../../models/user%22;%0Aimport%20%7B%20validate%20%7D%20from%20%22class-validator%22;%0A%0Aexport%20class%20ModelUserGuard%20extends%20Guard%20%7B%0A%20%20%20%20async%20check()%20%7B%0A%20%20%20%20%20%20%20%20const%20user:%20User%20=%20new%20User(this.body);%0A%20%20%20%20%20%20%20%20//%20here%20i%20am%20using%20a%20plugin%20to%20validate%20but%20you%20can%20write%20your%20own%20code%20too.%20%0A%20%20%20%20%20%20%20%20const%20errors%20=%20await%20validate('User',%20user);%0A%20%20%20%20%20%20%20%20if%20(errors.length%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20pass%20this%20to%20method,%20so%20that%20they%20dont%20need%20to%20parse%20again%0A%20%20%20%20%20%20%20%20%20%20%20%20this.data.user%20=%20user;%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20null;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20error%20=%20errors%5B0%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20constraint%20=%20Object.keys(error.constraints)%5B0%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20errMessage%20=%20error.constraints%5Bconstraint%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20contentType:%20MIME_TYPE.Text,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20statusCode:%20HTTP_STATUS_CODE.BadRequest,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20responseData:%20errMessage%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20as%20HttpResult;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3ENow%20let's%20add%20this%20guard%20to%20method%20addUser%20-%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3E@guards(%5BModelUserGuard%5D)%0A@worker(%5BHTTP_METHOD.Post%5D)%0A@route(%22/%22)%0Aasync%20addUser()%20%7B%0A%20%20%20%20const%20user:%20User%20=%20this.data.user;%0A%20%20%20%20return%20jsonResult(this.service.addUser(user),%20HTTP_STATUS_CODE.Created);%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EIn%20the%20above%20code%20-%20%3C/p%3E%0A%3Cul%3E%0A%3Cli%3EI%20have%20added%20the%20guard%20-%20%22ModelUserGuard%22%20using%20the%20decorator%20-%20%3Ccode%3Eguards%3C/code%3E%20.%20%3C/li%3E%0A%3Cli%3EWith%20the%20guard%20in%20process,%20we%20dont%20need%20to%20parse%20the%20data%20from%20body%20anymore,%20we%20are%20reading%20it%20from%20%3Ccode%3Ethis.data%3C/code%3E%20which%20we%20are%20passing%20from%20%22ModelUserGuard%22%20.%3C/li%3E%0A%3C/ul%3E%0A%3Cp%3EYou%20can%20see%20that%20our%20worker%20method%20looks%20very%20light%20after%20using%20component.%3C/p%3E%0A%3Ch3%20id=%22updatinguser%22%3EUpdating%20user%3C/h3%3E%0A%3Cp%3EFor%20adding%20user%20-%20we%20need%20to%20create%20a%20method%20which%20will%20only%20work%20for%20http%20method%20PUT.%20Add%20the%20below%20code%20inside%20usercontroller%20%20-%3C/p%3E%0A%3Cpre%3E%3Ccode%3E@worker(%5BHTTP_METHOD.Put%5D)%0A@guards(%5BModelUserGuard%5D)%0A@route(%22/%22)%0Aasync%20updateUser()%20%7B%0A%0A%20%20%20%20const%20user:%20User%20=%20this.data.user;%0A%20%20%20%20const%20userUpdated%20=%20this.service.updateUser(user);%0A%20%20%20%20if%20(userUpdated%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20return%20textResult(%22user%20updated%22);%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20textResult(%22invalid%20user%22);%0A%20%20%20%20%7D%0A%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EYou%20can%20see,%20we%20have%20reutilized%20the%20guard%20-%20%22ModelUserGuard%22%20here%20and%20it%20makes%20our%20code%20beautiful%20and%20light.%3C/p%3E%0A%3Ch3%20id=%22getuser%22%3EGet%20user%3C/h3%3E%0A%3Cp%3EFor%20getting%20a%20single%20user%20-%20we%20need%20to%20send%20the%20user%20id%20in%20the%20request.%20Let's%20understand%20the%20below%20code%20-%3C/p%3E%0A%3Cpre%3E%3Ccode%3E@worker(%5BHTTP_METHOD.Get%5D)%0A@route(%22/%7Bid%7D%22)%0Aasync%20getUser()%20%7B%0A%0A%20%20%20%20const%20userId%20=%20Number(this.params.id);%0A%20%20%20%20const%20user%20=%20this.service.getUser(userId);%0A%20%20%20%20if%20(user%20==%20null)%20%7B%0A%20%20%20%20%20%20%20%20return%20textResult(%22invalid%20id%22);%0A%20%20%20%20%7D%0A%20%20%20%20return%20jsonResult(user);%0A%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EIn%20the%20above%20code%20-%20we%20are%20using%20a%20place%20holder%20in%20route.%20Now%20%22getUser%22%20will%20be%20called%20when%20url%20will%20be%20something%20like%20-%20localhost:4000/user/1%3C/p%3E%0A%3Cp%3EThe%20placeholder%20value%20can%20be%20consumed%20from%20%3Ccode%3Ethis.params%3C/code%3E.%3C/p%3E%0A%3Ch3%20id=%22removeuser%22%3ERemove%20User%3C/h3%3E%0A%3Cp%3EWe%20will%20use%20the%20same%20format%20as%20get%20-%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3E@worker(%5BHTTP_METHOD.Delete%5D)%0A@route(%22/%7Bid%7D%22)%0Aasync%20removeUser()%20%7B%0A%0A%20%20%20%20const%20userId%20=%20Number(this.params.id);%0A%20%20%20%20const%20user%20=%20this.service.getUser(userId);%0A%20%20%20%20if%20(user%20!=%20null)%20%7B%0A%20%20%20%20%20%20%20%20this.service.removeUser(userId);%0A%20%20%20%20%20%20%20%20return%20textResult(%22user%20deleted%22);%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20textResult(%22invalid%20user%22);%0A%20%20%20%20%7D%0A%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EFinally,%20we%20have%20successfully%20created%20a%20rest%20end%20point.%3C/p%3E",t.title="Get Started",t}return i(t,e),t=a([Object(n.Component)({components:{Tutorial:s.a}})],t)}(n.Vue),d=r(9),u=Object(d.a)(l,function(){var e=this.$createElement;return(this._self._c||e)("Tutorial",{attrs:{innerHtml:this.tutorialContent,pageTitle:this.title}})},[],!1,null,null,null);u.options.__file="get-started.vue";t.default=u.exports}}]);